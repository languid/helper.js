!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash"),require("jquery"),require("moment")):"function"==typeof define&&define.amd?define(["exports","lodash","jquery","moment"],t):t(n.helper=n.helper||{},n._,n.$,n.moment)}(this,function(n,t,e,r){"use strict";function a(n){return n.format=function(){return[this[0].format(F.YMD_FORMAT),this[1].format(F.YMD_FORMAT)]},n}function i(){return a([r(),r()])}function u(){var n=r(),t=r().endOf("week");return a([r().startOf("week"),t.isAfter(n)?n:t])}function o(){var n=r(),t=r().endOf("month");return a([r().startOf("month"),t.isAfter(n)?n:t])}function s(){var n=r(),t=r().endOf("year");return a([r().startOf("year"),t.isAfter(n)?n:t])}function c(){var n=r().subtract(1,"days");return a([n,n])}function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"days"),r().subtract(1,"days")])}function f(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"week").startOf("week"),r().subtract(1,"week").endOf("week")])}function d(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"month").startOf("month"),r().subtract(1,"month").endOf("month")])}function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"year").startOf("year"),r().subtract(1,"year").endOf("year")])}function g(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"week"),r().subtract(1,"days")])}function h(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"month"),r().subtract(1,"days")])}function v(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(n,"year"),r().subtract(1,"days")])}function y(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.YMD_FORMAT;return r(n).format(t)}var b="default"in t?t["default"]:t;e="default"in e?e["default"]:e,r="default"in r?r["default"]:r;var p=function(){},A=function(n,t){return setTimeout(n,t||0)},O=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+n+"=([^&#]*)"),e=t.exec(location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))},w=function(n,t){var e=location,r="";return r="me"==n?e.href:/^#/.test(n)?e.origin+e.pathname+n:n,t?window.open(r):e.href=r,e},M=function(n){var t="";for(var e in n)""!=t&&(t+="&"),t+=e+"="+encodeURIComponent(n[e]);return t},k=function(n,t){return t=t||void 0,n?"string"==typeof n?n?new Function("return "+n)():t:n:t},E={required:{message:function(){return"required"},validate:function(n,t){return t?b.isString(n)?!!b.trim(n):b.isArray(n)||b.isObject(n)?b.size(n)>0:!0:!0}},maxlength:{message:function(){return"maxlength"},validate:function(n,t){return b.isString(n)&&n.length<=t}},minlength:{message:function(){return"minlength"},validate:function(n,t){return b.isString(n)&&n.length>=t}},max:{message:function(){return"max"},validate:function(n,t){return E.number(n,!0)&&t>=+n}},min:{message:function(){return"min"},validate:function(n,t){return E.number(n,!0)&&+n>=t}},number:{message:function(){return"must number"},validate:function(n,t){return t?/^\d+(\.\d+)?$/.test(n):!0}},digits:{message:function(){return"must digits"},validate:function(n,t){return t?/^\d+$/.test(n):!0}},range:{message:function(n){return"Must be between "+n[0]+" and "+n[1]},validate:function(n,t){return n.length>=t[0]&&n.length<=t[1]}}},T=0,x=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,a=e(document),i=(t.isArray(n)?e.makeArray(n):[n]).map(function(n){return n&&n.jquery?n[0]:n}),u=i.length,o="mousedown.clickDocumentHide"+T++;return a.bind(o,function(n){for(var t=n.target,a=0,o=void 0,s=0;u>s&&(o=i[s],t!=o&&!e.contains(o,t));s++)a++;a==u&&r(n,o)}),function(){a.unbind(o)}},D=function(n){var r=null,a=!1,i=e(window),u={name:"scroll resize",init:!0,end:p,start:p,delay:50};return t.isFunction(n)?u.end=n:u=Object.assign(u,n),i.on(u.name,function(n){clearTimeout(r),a||(a=!0,u.start.call(i,n)),r=A(function(){a=!1,u.end.call(i,n)},u.delay)}),u.init&&i.trigger(u.name.split(" ")[0]),function(){i.off(u.name)}},R=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.context,r=void 0===t?null:t,a=n.height,i=void 0===a?0:a,u=e(window),o=e(r);if(o.length){var s=function(){return document.documentElement.clientHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-i},c=function(){o.find("img[orgSrc]").each(function(){if(e(this).offset().top<=s()&&e(this).is(":visible")){var n=this.getAttribute("orgSrc");this.setAttribute("src",n),this.removeAttribute("orgSrc")}})};u.bind("lazyload",c),D("scroll.lazyload",c)}},Y=function(n,t){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";return n.one(e,t),function(){n.unbind(e)}},q=function(n,t){var e="webkitTransitionEnd oTransitionEnd transitionend";return n.one(e,t),function(){n.unbind(e)}},_=function(n,t,e){var r=new Image;r.src=n,e&&r.setAttribute("crossOrigin","anonymous"),r.complete?t.call(r,!1):(r.onload=function(){t.call(r,!1)},r.onerror=function(){t.call(this,!0)},r.src=r.src)},z=function(n){var t={};return b.forEach(n,function(n,e){(n||0==parseInt(n))&&(t[e]=n)}),t},F={LOCAL_FORMAT:"LL",YMD_FORMAT:"YYYY-MM-DD"};n.noop=p,n.delay=A,n.queryString=O,n.go=w,n.paramsEncode=M,n.parseCode=k,n.validator=E,n.documentClick=x,n.lazyLoad=R,n.onAnimateEnd=Y,n.onTransitionEnd=q,n.lazyResize=D,n.loadImage=_,n.clearEmpty=z,n.DATE_FORMAT=F,n.toRangeArray=a,n.thisDay=i,n.thisWeek=u,n.thisMonth=o,n.thisYear=s,n.yesterday=c,n.lastDay=m,n.lastWeek=f,n.lastMonth=d,n.lastYear=l,n.nearlyWeek=g,n.nearlyMonth=h,n.nearlyYear=v,n.formatDate=y,Object.defineProperty(n,"__esModule",{value:!0})});