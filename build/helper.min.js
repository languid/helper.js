!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash"),require("jquery"),require("moment")):"function"==typeof define&&define.amd?define(["exports","lodash","jquery","moment"],n):n(t.helper=t.helper||{},t._,t.$,t.moment)}(this,function(t,n,e,r){"use strict";function i(t){return t?t.toString().toUpperCase():""}function o(t){return t?t.toString().toLowerCase():""}function a(t){return t.format=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.YMD_FORMAT;return[this[0].format(t),this[1].format(t)]},t}function u(){return a([r(),r()])}function c(){var t=r(),n=r().endOf("week");return a([r().startOf("week"),n.isAfter(t)?t:n])}function s(){var t=r(),n=r().endOf("month");return a([r().startOf("month"),n.isAfter(t)?t:n])}function f(){var t=r(),n=r().endOf("year");return a([r().startOf("year"),n.isAfter(t)?t:n])}function d(){var t=r().subtract(1,"days");return a([t,t])}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"days"),r().subtract(1,"days")])}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"week").startOf("week"),r().subtract(1,"week").endOf("week")])}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"month").startOf("month"),r().subtract(1,"month").endOf("month")])}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"year").startOf("year"),r().subtract(1,"year").endOf("year")])}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"week"),r().subtract(1,"days")])}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"month"),r().subtract(1,"days")])}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a([r().subtract(t,"year"),r().subtract(1,"days")])}function p(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.YMD_FORMAT;return r(t).format(n)}n=n&&"default"in n?n.default:n,e=e&&"default"in e?e.default:e,r=r&&"default"in r?r.default:r;var w=function(){},A=function(t,n){return setTimeout(t,n||0)},O=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))},M=function(t,n){var e=location,r="";return r="me"===t?e.href:/^#/.test(t)?e.origin+e.pathname+t:t,n?window.open(r):e.href=r,e},k=function(t){var n="";for(var e in t)""!==n&&(n+="&"),n+=e+"="+encodeURIComponent(t[e]);return n},E=function(t,n){return n=n||void 0,t?"string"==typeof t?t?new Function("return "+t)():n:t:n},R={required:{message:function(){return"required"},validate:function(t,e){return!e||(n.isString(t)?!!n.trim(t):!n.isArray(t)&&!n.isObject(t)||n.size(t)>0)}},maxlength:{message:function(){return"maxlength"},validate:function(t,e){return n.isString(t)&&t.length<=e}},minlength:{message:function(){return"minlength"},validate:function(t,e){return n.isString(t)&&t.length>=e}},max:{message:function(){return"max"},validate:function(t,n){return R.number(t,!0)&&+t<=n}},min:{message:function(){return"min"},validate:function(t,n){return R.number(t,!0)&&+t>=n}},number:{message:function(){return"must number"},validate:function(t,n){return!n||/^\d+(\.\d+)?$/.test(t)}},digits:{message:function(){return"must digits"},validate:function(t,n){return!n||/^\d+$/.test(t)}},range:{message:function(t){return"Must be between "+t[0]+" and "+t[1]},validate:function(t,n){return t.length>=n[0]&&t.length<=n[1]}}},T=0,x=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=e(document),i=(Array.isArray(t)?e.makeArray(t):[t]).map(function(t){return t&&t.jquery?t[0]:t}),o=i.length,a="mousedown.clickDocumentHide"+T++;return r.bind(a,function(t){for(var r=t.target,a=0,u=void 0,c=0;c<o&&(u=i[c],r!==u&&!e.contains(u,r));c++)a++;a===o&&n(t,u)}),function(){r.unbind(a)}},q=function(t){var n=null,r=!1,i=e(window),o={name:"scroll resize",init:!0,end:w,start:w,delay:50};return"function"==typeof t?o.end=t:o=Object.assign(o,t),i.on(o.name,function(t){clearTimeout(n),r||(r=!0,o.start.call(i,t)),n=A(function(){r=!1,o.end.call(i,t)},o.delay)}),o.init&&i.trigger(o.name.split(" ")[0]),function(){i.off(o.name)}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.context,r=void 0===n?null:n,i=t.height,o=void 0===i?0:i,a=e(window),u=e(r);if(u.length){var c=function(){return document.documentElement.clientHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-o},s=function(){u.find("img[orgSrc]").each(function(){if(e(this).offset().top<=c()&&e(this).is(":visible")){var t=this.getAttribute("orgSrc");this.setAttribute("src",t),this.removeAttribute("orgSrc")}})};a.bind("lazyload",s),q("scroll.lazyload")}},S=function(t,n){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";return t.one(e,n),function(){t.unbind(e)}},Y=function(t,n){var e="webkitTransitionEnd oTransitionEnd transitionend";return t.one(e,n),function(){t.unbind(e)}},C=function(t,n,e){var r=new Image;r.src=t,e&&r.setAttribute("crossOrigin","anonymous"),r.complete?n.call(r,!1):(r.onload=function(){n.call(r,!1)},r.onerror=function(){n.call(this,!0)},r.src=r.src)},j=function(t){var e={};return n.forEach(t,function(t,n){(t||0===parseInt(t))&&(e[n]=t)}),e},z=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(r,i){var o=void 0;o=A(function(){if(clearTimeout(o),"function"==typeof t)try{r(t())}catch(t){i(t)}else e?r(t):i()},n||5e3*Math.random())})},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({list:[],count:t,originCount:t,isReady:!1,ready:function(){var t=this;0==--this.count?(this.isReady=!0,this.list.forEach(function(n){return n.call(t)}),this.complete()):this.countdown(this.count)},exec:function(t){"function"==typeof t&&(this.isReady?t.call(this):this.list.push(t))},reset:function(){this.list=[],this.count=this.originCount,this.isReady=!1},countdown:w,complete:w},n)},F=function(t){for(var n=t.length,e=void 0,r=void 0;n;)r=Math.floor(Math.random()*n--),e=t[n],t[n]=t[r],t[r]=e;return t},L={LOCAL_FORMAT:"LL",YMD_FORMAT:"YYYY-MM-DD"};t.noop=w,t.delay=A,t.queryString=O,t.go=M,t.paramsEncode=k,t.parseCode=E,t.validator=R,t.documentClick=x,t.lazyLoad=D,t.onAnimateEnd=S,t.onTransitionEnd=Y,t.lazyResize=q,t.loadImage=C,t.clearEmpty=j,t.wait=z,t.queuer=_,t.shuffle=F,t.uppercase=i,t.lowercase=o,t.DATE_FORMAT=L,t.toRangeArray=a,t.thisDay=u,t.thisWeek=c,t.thisMonth=s,t.thisYear=f,t.yesterday=d,t.lastDay=l,t.lastWeek=m,t.lastMonth=h,t.lastYear=v,t.nearlyWeek=g,t.nearlyMonth=y,t.nearlyYear=b,t.formatDate=p,Object.defineProperty(t,"__esModule",{value:!0})});